#echo 4 > /sys/devices/platform/10800000.gmac/net/eth0/queues/rx-0/rps_cpus
#devmem 0x19e01444 32 0x2
#devmem 0x19e016a4 32 0x1
#echo 1000000 > /sys/devices/system/cpu/cpu0/cpufreq/scaling_max_freq
#echo 1000000 > /sys/devices/system/cpu/cpu0/cpufreq/scaling_min_freq
#[ ! -f "/etc/spl" ] && {
#    touch /etc/spl
#    mtd -r write /lib/667.img spl-loader
#}
#devmem 0x1790b3b0 32 0xAAAA0007
#devmem 0x1790b3d4 32 0x1B0B50FF
#devmem 0x1790b3d8 32 0x1B0B50FF
echo enable 1 > /proc/net/skb_pool
echo enable 2 > /proc/net/skb_pool
echo enable 3 > /proc/net/skb_pool
echo enable 4 > /proc/net/skb_pool
echo inc 3 512 > proc/net/skb_pool
echo inc 4 512 > proc/net/skb_pool
echo 3 > /proc/sys/vm/drop_caches

random_value=$(date +%s | awk '{print int($1 % 180)}')

random_hour=$((2 + random_value / 60))
random_minute=$((random_value % 60))

crontab_file="/etc/crontabs/root"
cron_job="/usr/sbin/ota auto_ota"

if [ ! -f "$crontab_file" ]; then
    echo "Error: $crontab_file not found."
    exit 1
fi

sed -i '/\/usr\/sbin\/ota auto_ota/d' "$crontab_file"

echo "$random_minute $random_hour * * * $cron_job" >> "$crontab_file"

/etc/init.d/cron restart